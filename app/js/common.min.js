"use strict";function NotyF(e,t){new Noty(Object.assign(options,t,e)).show()}function createNoty(){new Noty({text:"Заявка отправлена"}).show()}new Vue({el:"#vueapp",data:{slides:[{url:"/img/licence/license-01.jpg"},{url:"/img/licence/license-02.jpg"},{url:"/img/licence/license-03.jpg"},{url:"/img/licence/license-04.jpg"}]},components:{"carousel-3d":Carousel3d.Carousel3d,slide:Carousel3d.Slide}}),init_form_data={project_name:"Росс-Моторс",admin_email:""},Vue.use(VueMask.VueMaskPlugin),Vue.directive("mask",VueMask.VueMaskDirective),options={timeout:3e3,theme:"relax",layout:"topRight"},Vue.component("v-dialog",{template:"#dialog-template",data:function(){return{active:!1}},props:["button_text","button_style"],methods:{open:function(){this.active=!0},close:function(){this.active=!1},onCancel:function(){this.close()},onConfirm:function(){this.close()}},created:function(){this.$on("event",function(){this.close()})}}),Vue.component("v-dialog-menu-a",{template:"#dialog-template-menu-a",data:function(){return{active:!1}},props:["name_form"],methods:{open:function(){this.active=!0},close:function(){this.active=!1},onCancel:function(){this.close()},onConfirm:function(){this.close()}},created:function(){this.$on("event",function(){this.close()})}}),Vue.component("v-dialog-a",{template:"#dialog-template-a",data:function(){return{active:!1,active_block:!1}},props:["name_form"],methods:{open:function(){this.active=!0},close:function(e){this.active=!1},onCancel:function(){this.close()},onConfirm:function(){this.close()}},created:function(){this.$on("event",function(){this.close()}),this.$on("block-window",function(){this.active_block=!0,NotyF({timeout:8e3,type:"info ",text:"Пожалуйста не закрывайте вкладку,\n файлы готовятся к отправке."})}),this.$on("unblock-window",function(){this.active_block=!1})}}),SimpleVueValidation=SimpleVueValidator;var Validator=SimpleVueValidation.Validator;Vue.use(SimpleVueValidation),Vue.component("callback",{template:"#callback-template",data:function(){return{form:{IName:"",IPhone:"",IMail:"",form_subject:"Форма заказать звонок",chekedBS:!1}}},methods:{onClick:function(){parent=this,this.$validate().then(function(e){if(1==e){parent.$parent.$emit("event");var t=JSON.parse(JSON.stringify(parent.form));t.project_name=init_form_data.project_name,axios.post("mail.php",t).then(function(e){NotyF({type:"success",text:"Запрос отправлен."})}).catch(function(e){NotyF({type:"error",text:"Ошибка."})}),parent.reset()}})},reset:function(){this.form.IName="",this.form.IPhone="",this.form.IMail="",this.form.form_subject="Форма заказать звонок",this.form.chekedBS=!1,this.validation.reset()}},validators:{"form.IPhone":function(e){return Validator.value(e).required().regex("[0-9]+")}}}),new Vue({el:"#app-callback1"}),new Vue({el:"#app-callback2"}),new Vue({el:"#app-callback3"}),new Vue({el:"#app-callback4"}),Vue.component("calculation-locksmith-repair",{template:"#calculation-locksmith-repair-template",data:function(){return{form:{IName:"",IPhone:"",IMessage:"",form_subject:'Форма "ОН-ЛАЙН РАСЧЕТ СТОИМОСТИ СЛЕСАРНОГО РЕМОНТА"',chekedBS:!1}}},methods:{onClick:function(){parent=this,this.$validate().then(function(e){if(1==e){parent.$parent.$emit("event");var t=JSON.parse(JSON.stringify(parent.form));t.project_name=init_form_data.project_name,axios.post("mail.php",t).then(function(e){NotyF({type:"success",text:"Запрос отправлен."})}).catch(function(e){NotyF({type:"error",text:"Ошибка."})}),parent.reset()}})},reset:function(){this.form.IName="",this.form.IPhone="",this.form.IMessage="",this.form.form_subject='Форма "ОН-ЛАЙН РАСЧЕТ СТОИМОСТИ СЛЕСАРНОГО РЕМОНТА"',this.form.chekedBS=!1,this.validation.reset()}},validators:{"form.IName":function(e){return Validator.value(e).required()},"form.IPhone":function(e){return Validator.value(e).required().regex("[0-9]+")},"form.IMessage":function(e){return Validator.value(e).required()}}}),new Vue({el:"#form-calculation-locksmith-repair"}),Vue.component("calculation-zip-warehouse",{template:"#calculation-zip-warehouse-template",data:function(){return{form:{IName:"",IPhone:"",IVINcode:"",IMessage:"",form_subject:'Форма "ОНЛАЙН РАСЧЕТ СТОИМОСТИ ЗАПЧАСТЕЙ И НАЛИЧИЕ НА СКЛАДЕ"',chekedBS:!1}}},methods:{onClick:function(){parent=this,this.$validate().then(function(e){if(1==e){parent.$parent.$emit("event");var t=JSON.parse(JSON.stringify(parent.form));t.project_name=init_form_data.project_name,axios.post("mail.php",t).then(function(e){NotyF({type:"success",text:"Запрос отправлен."})}).catch(function(e){NotyF({type:"error",text:"Ошибка."})}),parent.reset()}})},reset:function(){this.form.IName="",this.form.IPhone="",this.form.IVINcode="",this.form.IMessage="",this.form.chekedBS=!1,this.form_subject='Форма "ОНЛАЙН РАСЧЕТ СТОИМОСТИ ЗАПЧАСТЕЙ И НАЛИЧИЕ НА СКЛАДЕ"',this.validation.reset()}},validators:{"form.IName":function(e){return Validator.value(e).required()},"form.IPhone":function(e){return Validator.value(e).required().regex("[0-9]+")},"form.IMessage":function(e){return Validator.value(e).required()}}}),new Vue({el:"#form-calculation-zip-warehouse"}),Vue.component("calculation-bodywork",{template:"#calculation-bodywork-template",data:function(){return{form:{IName:"",IPhone:"",IMail:"",IMessage:"",form_subject:'Форма "ОН-ЛАЙН РАСЧЕТ СТОИМОСТИ КУЗОВНОГО РЕМОНТА"',chekedBS:!1},percentCompleted:0}},methods:{UpdatePercentCompleted:function(e){},onClick:function(e){parent=this,parent.$parent.$emit("block-window"),this.$validate().then(function(e){if(1==e){var t=parent.$refs.fileInputs.files;if(data=new FormData,data.append("IName",parent.form.IName),data.append("IMail",parent.form.IMail),data.append("IMessage",parent.form.IMessage),data.append("IPhone",parent.form.IPhone),data.append("form_subject",parent.form.form_subject),data.append("chekedBS",parent.form.chekedBS),parent.form.chekedBS=!1,t.length>0)for(var o=0;o<t.length;o++)data.append("file[]",t[o]);var a={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){parent.percentCompleted=Math.round(100*e.loaded/e.total)}};axios.post("mail.php",data,a).then(function(e){NotyF({type:"success",text:"Запрос отправлен."}),parent.$parent.$emit("unblock-window"),parent.$parent.$emit("event"),parent.reset()}).catch(function(e){parent.percentCompleted=0,parent.$parent.$emit("unblock-window"),NotyF({type:"error",text:"Ошибка."})})}})},reset:function(){this.form.IName="",this.form.IPhone="",this.form.IMail="",this.form.IMessage="",this.form.form_subject='Форма "ОН-ЛАЙН РАСЧЕТ СТОИМОСТИ КУЗОВНОГО РЕМОНТА"',this.form.chekedBS=!1,this.percentCompleted=0,parent.$refs.fileInputs.value=null,this.validation.reset()}},validators:{"form.IName":function(e){return Validator.value(e).required()},"form.IPhone":function(e){return Validator.value(e).required().regex("[+()-0-9]+","")}}}),new Vue({el:"#form-calculation-bodywork"}),Vue.component("cascad-selector",{template:"#cascad-selector-template",data:function(){return{old_form:null,form:{selectedMark:"",selectedModel:"",selectedMileage:"",aMarks:[],aModel:[],form_subject:'Форма "ОН-ЛАЙН РАСЧЕТ СТОИМОСТИ ПЛАНОВОГО ТО"'},Marks:{Hyundai:["Solaris","Accent"],Kia:["RIO II","RIO III","Rio X-Line","PicantoKIA "]},mileages:["15","30","45","60","75","90","105","120","135","150","165","180","195","210","225","240"]}},created:function(){this.old_form=Object.assign({},this.form)},methods:{onClick:function(){var e={selectedMark:this.form.selectedMark1,selectedModel:this.form.selectedModel,selectedMileage:this.form.selectedMileage,form_subject:this.form.form_subject},t=JSON.parse(JSON.stringify(e));t.project_name=init_form_data.project_name,axios.post("calculation-to.php",t).then(function(e){NotyF({type:"success",text:"Запрос отправлен."})}).catch(function(e){NotyF({type:"error",text:"Ошибка."})}),this.form=Object.assign({},this.old_form),this.$parent.$emit("event")}},computed:{selectedMark:function(){return this.form.selectedMark},selectedModel:function(){return this.form.selectedModel}},watch:{selectedMark:function(){this.form.aMarks=[],this.form.aModel=[],this.form.selectedModel="",this.form.selectedMileage="",this.form.selectedMark.length>0?this.form.aMarks=this.Marks[this.form.selectedMark]:(this.form.aMarks=[],this.form.aModel=[],this.form.selectedModel="",this.form.selectedMileage="")},selectedModel:function(){this.form.aModel=[],this.form.selectedMileage="",this.form.selectedModel.length>0?this.form.aModel=this.mileages:(this.form.aModel=[],this.form.selectedMileage="")}}}),new Vue({el:"#form-cascad-selector"}),$(".toggle-mnu").click(function(){return $(this).toggleClass("on"),$(".main-mnu").slideToggle(),!1});